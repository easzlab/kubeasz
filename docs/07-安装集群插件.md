# 安装集群主要插件

目前挑选一些常用、必要的插件自动集成到安装脚本之中:  
- [配置开关](../roles/cluster-addon/defaults/main.yml)
- [自动脚本](../roles/cluster-addon/tasks/main.yml)

## 脚本介绍

- 1.根据hosts文件中配置的`CLUSTER_DNS_SVC_IP` `CLUSTER_DNS_DOMAIN`等参数生成kubedns.yaml和coredns.yaml文件
- 2.注册变量pod_info，pod_info用来判断现有集群是否已经运行各种插件
- 3.根据pod_info和[配置开关](../roles/cluster-addon/defaults/main.yml)逐个进行/跳过插件安装



[前一篇](06-安装网络组件.md) --
